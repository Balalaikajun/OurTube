{
  "openapi": "3.0.4",
  "info": {
    "title": "OurTube API",
    "version": "v1"
  },
  "paths": {
    "/videos/{videoId}/comments": {
      "post": {
        "tags": [
          "Comments"
        ],
        "summary": "Добавить комментарий к видео.",
        "parameters": [
          {
            "name": "videoId",
            "in": "path",
            "description": "Идентификатор видео.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "Данные комментария.",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PostCommentRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/PostCommentRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/PostCommentRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Комментарий успешно создан.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Comment"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Comment"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Comment"
                }
              }
            }
          },
          "400": {
            "description": "Неверный формат входных данных.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Пользователь не авторизован.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Элемент не найден.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Неизвестная ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Comments"
        ],
        "summary": "Получить список комментариев к видео с пагинацией и рекомендациями.",
        "parameters": [
          {
            "name": "videoId",
            "in": "path",
            "description": "Идентификатор видео.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "ParentId",
            "in": "query",
            "description": "Идентификатор родительского комментария для получения вложенных ответов. Может быть null.",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "Limit",
            "in": "query",
            "description": "Максимальное количество комментариев, возвращаемых за один запрос. (По умолчанию 10)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "After",
            "in": "query",
            "description": "Смещение для пагинации — номер комментария, после которого следует вернуть следующие.",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "Reload",
            "in": "query",
            "description": "Флаг, указывающий, нужно ли перезагрузить комментарии полностью, игнорируя кэш.",
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Комментарии успешно получены.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/CommentListReply"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommentListReply"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommentListReply"
                }
              }
            }
          },
          "400": {
            "description": "Неверный формат входных данных.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Элемент не найден.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Неизвестная ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/comments/{id}": {
      "patch": {
        "tags": [
          "Comments"
        ],
        "summary": "Обновить комментарий.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Идентификатор комментария для редактирования.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "Данные для обновления комментария.",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCommentRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCommentRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCommentRequest"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Комментарий успешно обновлён."
          },
          "400": {
            "description": "Неверный формат входных данных.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Пользователь не авторизован или не имеет доступа.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Элемент не найден.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Неизвестная ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Comments"
        ],
        "summary": "Удалить комментарий.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Идентификатор комментария.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Комментарий успешно удалён."
          },
          "401": {
            "description": "Пользователь не авторизован или не имеет доступа.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Элемент не найден.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Неизвестная ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/comments/{commentId}/vote": {
      "post": {
        "tags": [
          "CommentVote"
        ],
        "summary": "Проголосовать за комментарий (лайк или дизлайк).",
        "parameters": [
          {
            "name": "commentId",
            "in": "path",
            "description": "Идентификатор комментария.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "Тип голоса: `true` – лайк, `false` – дизлайк.",
          "content": {
            "application/json": {
              "schema": {
                "type": "boolean"
              }
            },
            "text/json": {
              "schema": {
                "type": "boolean"
              }
            },
            "application/*+json": {
              "schema": {
                "type": "boolean"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Голос успешно установлен или обновлён."
          },
          "400": {
            "description": "Неверный формат входных данных.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Пользователь не авторизован.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Комментарий не найден.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Неизвестная ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "CommentVote"
        ],
        "summary": "Удалить голос за комментарий.",
        "parameters": [
          {
            "name": "commentId",
            "in": "path",
            "description": "Идентификатор комментария.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Голос успешно удалён."
          },
          "401": {
            "description": "Пользователь не авторизован.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Комментарий не найден или голос отсутствует.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Неизвестная ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Проверить, что сервер работает корректно.",
        "responses": {
          "200": {
            "description": "Сервер работает и вернул сообщение о статусе.",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              },
              "application/json": {
                "schema": {
                  "type": "string"
                }
              },
              "text/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/users/me/watch-history/videos/{videoId}": {
      "post": {
        "tags": [
          "History"
        ],
        "summary": "Добавить видео в историю просмотров.",
        "parameters": [
          {
            "name": "videoId",
            "in": "path",
            "description": "Идентификатор видео.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "Запрос с информацией о просмотренном видео.",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PostViewsRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/PostViewsRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/PostViewsRequest"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Видео успешно добавлено в историю."
          },
          "400": {
            "description": "Неверный формат входных данных.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Пользователь не авторизован.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Элемент не найден.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Неизвестная ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "History"
        ],
        "summary": "Удалить видео из истории просмотров.",
        "parameters": [
          {
            "name": "videoId",
            "in": "path",
            "description": "Идентификатор видео.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Видео успешно удалено из истории."
          },
          "401": {
            "description": "Пользователь не авторизован.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Видео не найдено в истории.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Неизвестная ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/users/me/watch-history": {
      "delete": {
        "tags": [
          "History"
        ],
        "summary": "Очистить всю историю просмотров пользователя.",
        "responses": {
          "204": {
            "description": "История просмотров успешно очищена."
          },
          "401": {
            "description": "Пользователь не авторизован.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Элемент не найден.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Неизвестная ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "History"
        ],
        "summary": "Получить историю просмотров пользователя с пагинацией и фильтрацией.",
        "parameters": [
          {
            "name": "SearchQuery",
            "in": "query",
            "description": "Строка поиска по названиям",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Limit",
            "in": "query",
            "description": "Максимальное количество комментариев, возвращаемых за один запрос. (По умолчанию 10)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "After",
            "in": "query",
            "description": "Смещение для пагинации — номер комментария, после которого следует вернуть следующие.",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "Reload",
            "in": "query",
            "description": "Флаг, указывающий, нужно ли перезагрузить комментарии полностью, игнорируя кэш.",
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "История просмотров успешно получена.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/MinVideoListReply"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MinVideoListReply"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/MinVideoListReply"
                }
              }
            }
          },
          "401": {
            "description": "Пользователь не авторизован.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Элемент не найден.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Неизвестная ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/identity/register": {
      "post": {
        "tags": [
          "Identity"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpValidationProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/identity/login": {
      "post": {
        "tags": [
          "Identity"
        ],
        "parameters": [
          {
            "name": "useCookies",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "useSessionCookies",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AccessTokenResponse"
                }
              }
            }
          }
        }
      }
    },
    "/identity/refresh": {
      "post": {
        "tags": [
          "Identity"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefreshRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AccessTokenResponse"
                }
              }
            }
          }
        }
      }
    },
    "/identity/confirmEmail": {
      "get": {
        "tags": [
          "Identity"
        ],
        "operationId": "MapIdentityApi-/identity/confirmEmail",
        "parameters": [
          {
            "name": "userId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "code",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "changedEmail",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/identity/resendConfirmationEmail": {
      "post": {
        "tags": [
          "Identity"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResendConfirmationEmailRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/identity/forgotPassword": {
      "post": {
        "tags": [
          "Identity"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForgotPasswordRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpValidationProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/identity/resetPassword": {
      "post": {
        "tags": [
          "Identity"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResetPasswordRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpValidationProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/identity/manage/2fa": {
      "post": {
        "tags": [
          "Identity"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TwoFactorRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TwoFactorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpValidationProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          }
        }
      }
    },
    "/identity/manage/info": {
      "get": {
        "tags": [
          "Identity"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InfoResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpValidationProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          }
        }
      },
      "post": {
        "tags": [
          "Identity"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InfoRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InfoResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpValidationProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          }
        }
      }
    },
    "/identity/logout": {
      "post": {
        "tags": [
          "Identity"
        ],
        "summary": "Выйти из системы (разлогиниться).",
        "responses": {
          "204": {
            "description": "Пользователь успешно разлогинен."
          },
          "401": {
            "description": "Пользователь не авторизован.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Неизвестная ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/users/me/playlists": {
      "post": {
        "tags": [
          "Playlists"
        ],
        "summary": "Создать новый плейлист.",
        "requestBody": {
          "description": "Данные для создания плейлиста.",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PostPlaylistRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/PostPlaylistRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/PostPlaylistRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Плейлист успешно создан.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Playlist"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Playlist"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Playlist"
                }
              }
            }
          },
          "400": {
            "description": "Неверный формат входных данных.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Пользователь не авторизован.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Элемент не найден.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Playlists"
        ],
        "summary": "Получить все плейлисты текущего пользователя.",
        "responses": {
          "200": {
            "description": "Плейлисты успешно получены.",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Playlist"
                  }
                }
              },
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Playlist"
                  }
                }
              },
              "text/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Playlist"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Пользователь не авторизован.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Элемент не найден.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/playlists/{playlistId}": {
      "patch": {
        "tags": [
          "Playlists"
        ],
        "summary": "Обновить плейлист.",
        "parameters": [
          {
            "name": "playlistId",
            "in": "path",
            "description": "Идентификатор плейлиста.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "Данные для обновления плейлиста.",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePlaylistRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePlaylistRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePlaylistRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Плейлист успешно обновлён."
          },
          "400": {
            "description": "Неверный формат входных данных.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Пользователь не авторизован или не имеет доступа.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Плейлист не найден.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Playlists"
        ],
        "summary": "Удалить плейлист.",
        "parameters": [
          {
            "name": "playlistId",
            "in": "path",
            "description": "Идентификатор плейлиста.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Плейлист успешно удалён."
          },
          "401": {
            "description": "Пользователь не авторизован или не имеет доступа.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Плейлист не найден.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Playlists"
        ],
        "summary": "Получить плейлист по идентификатору (минимальные данные).",
        "parameters": [
          {
            "name": "playlistId",
            "in": "path",
            "description": "Идентификатор плейлиста.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Плейлист успешно получен.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Playlist"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Playlist"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Playlist"
                }
              }
            }
          },
          "401": {
            "description": "Пользователь не авторизован или не имеет доступа.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Элемент не найден.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/playlists/{playlistId}/videos": {
      "post": {
        "tags": [
          "Playlists"
        ],
        "summary": "Добавить видео в плейлист.",
        "parameters": [
          {
            "name": "playlistId",
            "in": "path",
            "description": "Идентификатор плейлиста.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "Идентификатор видео.",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddVideoRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/AddVideoRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/AddVideoRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Видео успешно добавлено в плейлист."
          },
          "401": {
            "description": "Пользователь не авторизован или не имеет доступа.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Элемент не найден.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/playlists/{playlistId}/videos/{videoId}": {
      "delete": {
        "tags": [
          "Playlists"
        ],
        "summary": "Удалить видео из плейлиста.",
        "parameters": [
          {
            "name": "playlistId",
            "in": "path",
            "description": "Идентификатор плейлиста.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "videoId",
            "in": "path",
            "description": "Идентификатор видео.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Видео успешно удалено из плейлиста."
          },
          "401": {
            "description": "Пользователь не авторизован или не имеет доступа.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Плейлист или видео не найдены.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/playlists/{playlistId}/elements": {
      "get": {
        "tags": [
          "Playlists"
        ],
        "summary": "Получить элементы плейлиста с пагинацией.",
        "parameters": [
          {
            "name": "playlistId",
            "in": "path",
            "description": "Идентификатор плейлиста.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Количество элементов для загрузки (по умолчанию 10).",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "after",
            "in": "query",
            "description": "Смещение по количеству элементов (для пагинации).",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Элементы плейлиста успешно получены.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/PlaylistElementListReply"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlaylistElementListReply"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlaylistElementListReply"
                }
              }
            }
          },
          "401": {
            "description": "Пользователь не авторизован или не имеет доступа.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Элемент не найден.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/users/me/videos/{videoId}/playlists": {
      "get": {
        "tags": [
          "Playlists"
        ],
        "summary": "Получить плейлисты пользователя, с учётом того добавлено ли видео в них.",
        "parameters": [
          {
            "name": "videoId",
            "in": "path",
            "description": "Идентификатор видео.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Плейлисты успешно получены.",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PlaylistForVideo"
                  }
                }
              },
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PlaylistForVideo"
                  }
                }
              },
              "text/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PlaylistForVideo"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Пользователь не авторизован.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Элемент не найден.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/recommendations": {
      "get": {
        "tags": [
          "Recommendations"
        ],
        "summary": "Получить список рекомендованных видео для текущего пользователя.",
        "parameters": [
          {
            "name": "Limit",
            "in": "query",
            "description": "Максимальное количество комментариев, возвращаемых за один запрос. (По умолчанию 10)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "After",
            "in": "query",
            "description": "Смещение для пагинации — номер комментария, после которого следует вернуть следующие.",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "Reload",
            "in": "query",
            "description": "Флаг, указывающий, нужно ли перезагрузить комментарии полностью, игнорируя кэш.",
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Список рекомендаций успешно получен.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/MinVideoListReply"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MinVideoListReply"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/MinVideoListReply"
                }
              }
            }
          },
          "400": {
            "description": "Некорректные параметры запроса.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Пользователь не авторизован.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/recommendations/videos/{videoId}": {
      "get": {
        "tags": [
          "Recommendations"
        ],
        "summary": "Получить рекомендации видео, основанные на конкретном видео.",
        "parameters": [
          {
            "name": "videoId",
            "in": "path",
            "description": "Идентификатор видео для рекомендаций.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "Limit",
            "in": "query",
            "description": "Максимальное количество комментариев, возвращаемых за один запрос. (По умолчанию 10)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "After",
            "in": "query",
            "description": "Смещение для пагинации — номер комментария, после которого следует вернуть следующие.",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "Reload",
            "in": "query",
            "description": "Флаг, указывающий, нужно ли перезагрузить комментарии полностью, игнорируя кэш.",
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Список рекомендаций успешно получен.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/MinVideoListReply"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MinVideoListReply"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/MinVideoListReply"
                }
              }
            }
          },
          "400": {
            "description": "Некорректные параметры запроса.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Пользователь не авторизован.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Элемент не найден.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/search": {
      "get": {
        "tags": [
          "Search"
        ],
        "summary": "Поиск видео по запросу пользователя.",
        "parameters": [
          {
            "name": "SearchQuery",
            "in": "query",
            "description": "Строка поиска по названиям",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Limit",
            "in": "query",
            "description": "Максимальное количество комментариев, возвращаемых за один запрос. (По умолчанию 10)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "After",
            "in": "query",
            "description": "Смещение для пагинации — номер комментария, после которого следует вернуть следующие.",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "Reload",
            "in": "query",
            "description": "Флаг, указывающий, нужно ли перезагрузить комментарии полностью, игнорируя кэш.",
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Видео успешно найдены и возвращены.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/MinVideoListReply"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MinVideoListReply"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/MinVideoListReply"
                }
              }
            }
          },
          "400": {
            "description": "Некорректные параметры запроса.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Пользователь не авторизован.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/users/{userToId}/subscribe": {
      "post": {
        "tags": [
          "Subscriptions"
        ],
        "summary": "Подписаться на пользователя.",
        "parameters": [
          {
            "name": "userToId",
            "in": "path",
            "description": "Идентификатор пользователя, на которого подписываемся.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Подписка успешно создана."
          },
          "400": {
            "description": "Неверные данные запроса.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Пользователь не авторизован.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Элемент не найден.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/users/{userToId}/unsubscribe": {
      "delete": {
        "tags": [
          "Subscriptions"
        ],
        "summary": "Отписаться от пользователя.",
        "parameters": [
          {
            "name": "userToId",
            "in": "path",
            "description": "Идентификатор пользователя, от которого отписываемся.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Отписка успешно выполнена."
          },
          "400": {
            "description": "Неверные данные запроса.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Пользователь не авторизован.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Элемент не найден.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/users/me": {
      "patch": {
        "tags": [
          "Users"
        ],
        "summary": "Обновить данные пользователя.",
        "requestBody": {
          "description": "Запрос на обновление данных пользователя.",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PatchApplicationUserRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/PatchApplicationUserRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/PatchApplicationUserRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Данные пользователя успешно обновлены и возвращены его минимальные данные.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationUser"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationUser"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationUser"
                }
              }
            }
          },
          "400": {
            "description": "Неверный формат входных данных.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Пользователь не авторизован.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Пользователь с такими данными не найден.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Неизвестная ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Получить данные пользователя.",
        "description": "Для корректной работы требуется наличие идентификатора пользователя в запросе.",
        "responses": {
          "200": {
            "description": "Пользователь найден, его данные возвращены.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationUser"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationUser"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationUser"
                }
              }
            }
          },
          "400": {
            "description": "Неверный формат входных данных.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Пользователь не авторизован.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Неизвестная ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Users"
        ],
        "summary": "Обновить аватар пользователя.",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "required": [
                  "Image"
                ],
                "type": "object",
                "properties": {
                  "Image": {
                    "type": "string",
                    "description": "Аватар пользователя.",
                    "format": "binary"
                  }
                }
              },
              "encoding": {
                "Image": {
                  "style": "form"
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Аватар обновлён, его данные возвращены.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/MinVideo"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MinVideo"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/MinVideo"
                }
              }
            }
          },
          "400": {
            "description": "Неверный формат входных данных.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Пользователь не авторизован.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Неизвестная ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Users"
        ],
        "summary": "Удалить аватар пользователя.",
        "responses": {
          "204": {
            "description": "Аватар пользователя успешно удалён.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/MinVideo"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MinVideo"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/MinVideo"
                }
              }
            }
          },
          "400": {
            "description": "Неверный формат входных данных.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Пользователь не авторизован.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Контент не найден.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Неизвестная ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/videos": {
      "post": {
        "tags": [
          "Videos"
        ],
        "summary": "Загрузить новое видео.",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "required": [
                  "Description",
                  "PreviewFile",
                  "Title",
                  "VideoFile"
                ],
                "type": "object",
                "properties": {
                  "Title": {
                    "maxLength": 150,
                    "type": "string",
                    "description": "Название видео (до 150 символов)."
                  },
                  "Description": {
                    "maxLength": 5000,
                    "type": "string",
                    "description": "Подробное описание видео (до 5000 символов).",
                    "default": ""
                  },
                  "Tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Список тегов, связанных с видео.\r\nФормат: \"#{tag}\""
                  },
                  "VideoFile": {
                    "type": "string",
                    "description": "Видео-файл.",
                    "format": "binary"
                  },
                  "PreviewFile": {
                    "type": "string",
                    "description": "Превью-изображение (thumbnail) для видео.",
                    "format": "binary"
                  }
                }
              },
              "encoding": {
                "Title": {
                  "style": "form"
                },
                "Description": {
                  "style": "form"
                },
                "Tags": {
                  "style": "form"
                },
                "VideoFile": {
                  "style": "form"
                },
                "PreviewFile": {
                  "style": "form"
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Видео успешно создано и возвращены его минимальные данные.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/MinVideo"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MinVideo"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/MinVideo"
                }
              }
            }
          },
          "400": {
            "description": "Неверный формат входных данных.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Пользователь не авторизован.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/videos/{videoId}": {
      "get": {
        "tags": [
          "Videos"
        ],
        "summary": "Получить подробную информацию о видео по его идентификатору.",
        "parameters": [
          {
            "name": "videoId",
            "in": "path",
            "description": "Идентификатор видео.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Видео найдено и возвращены его данные.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Video"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Video"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Video"
                }
              }
            }
          },
          "404": {
            "description": "Видео с указанным идентификатором не найдено.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Ошибка сервера.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/videos/{videoId}/vote": {
      "post": {
        "tags": [
          "VideoVote"
        ],
        "summary": "Поставить реакцию (лайк или дизлайк) под видео.",
        "parameters": [
          {
            "name": "videoId",
            "in": "path",
            "description": "Идентификатор видео.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "Тип реакции: true — лайк, false — дизлайк.",
          "content": {
            "application/json": {
              "schema": {
                "type": "boolean"
              }
            },
            "text/json": {
              "schema": {
                "type": "boolean"
              }
            },
            "application/*+json": {
              "schema": {
                "type": "boolean"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Реакция успешно сохранена."
          },
          "400": {
            "description": "Неверный формат входных данных.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Пользователь не авторизован.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Видео не найдено.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "VideoVote"
        ],
        "summary": "Удалить реакцию под видео.",
        "parameters": [
          {
            "name": "videoId",
            "in": "path",
            "description": "Идентификатор видео.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Реакция успешно удалена."
          },
          "400": {
            "description": "Неверный формат входных данных.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Пользователь не авторизован.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Видео не найдено.",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AccessTokenResponse": {
        "required": [
          "accessToken",
          "expiresIn",
          "refreshToken"
        ],
        "type": "object",
        "properties": {
          "tokenType": {
            "type": "string",
            "nullable": true,
            "readOnly": true
          },
          "accessToken": {
            "type": "string",
            "nullable": true
          },
          "expiresIn": {
            "type": "integer",
            "format": "int64"
          },
          "refreshToken": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "AddVideoRequest": {
        "type": "object",
        "properties": {
          "videoId": {
            "type": "string",
            "description": "Идентификатор видео",
            "format": "uuid"
          }
        },
        "additionalProperties": false,
        "description": "Запрос на добавление видео в плейлист"
      },
      "ApplicationUser": {
        "required": [
          "userName"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Уникальный идентификатор пользователя.",
            "format": "uuid"
          },
          "userName": {
            "type": "string",
            "description": "Имя пользователя (отображаемое имя или логин).",
            "nullable": true
          },
          "isSubscribed": {
            "type": "boolean",
            "description": "Флаг, указывающий, подписан ли текущий автор запроса на данного пользователя."
          },
          "subscribersCount": {
            "type": "integer",
            "description": "Количество подписчиков у пользователя.",
            "format": "int32"
          },
          "userAvatar": {
            "$ref": "#/components/schemas/UserAvatar"
          }
        },
        "additionalProperties": false,
        "description": "Модель данных пользователя, возвращаемая в ответах API."
      },
      "Comment": {
        "required": [
          "user"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Уникальный идентификатор комментария.",
            "format": "uuid"
          },
          "text": {
            "type": "string",
            "description": "Текстовое содержимое комментария.",
            "nullable": true
          },
          "createdDate": {
            "type": "string",
            "description": "Дата и время создания комментария (в формате UTC).",
            "format": "date-time"
          },
          "updatedDate": {
            "type": "string",
            "description": "Дата и время последнего редактирования комментария (в формате UTC).\r\nМожет быть null, если комментарий не редактировался.",
            "format": "date-time",
            "nullable": true
          },
          "deletedDate": {
            "type": "string",
            "description": "Дата и время удаления комментария (в формате UTC).\r\nМожет быть null, если комментарий не был удалён.",
            "format": "date-time",
            "nullable": true
          },
          "parentId": {
            "type": "string",
            "description": "Идентификатор родительского комментария, если этот комментарий является ответом.\r\nМожет быть null, если комментарий является корневым.",
            "format": "uuid",
            "nullable": true
          },
          "isEdited": {
            "type": "boolean",
            "description": "Флаг, указывающий, редактировался ли комментарий после создания."
          },
          "isDeleted": {
            "type": "boolean",
            "description": "Флаг, указывающий, был ли комментарий удалён."
          },
          "vote": {
            "type": "boolean",
            "description": "Голос пользователя за комментарий: `true` — лайк, `false` — дизлайк,\r\nnull — пользователь не голосовал.",
            "nullable": true
          },
          "likesCount": {
            "type": "integer",
            "description": "Количество лайков комментария.",
            "format": "int32"
          },
          "childsCount": {
            "type": "integer",
            "description": "Количество дочерних (вложенных) комментариев.",
            "format": "int32"
          },
          "dislikesCount": {
            "type": "integer",
            "description": "Количество дизлайков комментария.",
            "format": "int32"
          },
          "user": {
            "$ref": "#/components/schemas/ApplicationUser"
          }
        },
        "additionalProperties": false,
        "description": "Представляет комментарий к какому-либо объекту (например, видео или посту)."
      },
      "CommentListReply": {
        "required": [
          "elements"
        ],
        "type": "object",
        "properties": {
          "elements": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Comment"
            },
            "description": "Коллекция элементов текущей страницы.",
            "nullable": true
          },
          "nextAfter": {
            "type": "integer",
            "description": "Параметр, по которому можно запросить следующую страницу данных (например, ID или индекс).",
            "format": "int32",
            "nullable": true
          },
          "hasMore": {
            "type": "boolean",
            "description": "Указывает, есть ли ещё данные после текущей страницы."
          }
        },
        "additionalProperties": false,
        "description": "Универсальная модель для передачи данных с постраничной навигацией (пагинацией)."
      },
      "Error": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "description": "Машинно-обрабатываемый код ошибки (например, `UserNotFound`, `InvalidEmail`).",
            "nullable": true
          },
          "statusCode": {
            "type": "integer",
            "description": "HTTP-статус код, связанный с ошибкой (например, `400`, `404`, `500`).",
            "format": "int32"
          },
          "message": {
            "type": "string",
            "description": "Человекочитаемое сообщение об ошибке, предназначенное для отображения пользователю.",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Модель ошибки, возвращаемая в ответах API."
      },
      "ForgotPasswordRequest": {
        "required": [
          "email"
        ],
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "HttpValidationProblemDetails": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "nullable": true
          },
          "title": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "detail": {
            "type": "string",
            "nullable": true
          },
          "instance": {
            "type": "string",
            "nullable": true
          },
          "errors": {
            "type": "object",
            "additionalProperties": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "nullable": true
          }
        },
        "additionalProperties": { }
      },
      "InfoRequest": {
        "type": "object",
        "properties": {
          "newEmail": {
            "type": "string",
            "nullable": true
          },
          "newPassword": {
            "type": "string",
            "nullable": true
          },
          "oldPassword": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "InfoResponse": {
        "required": [
          "email",
          "isEmailConfirmed"
        ],
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "nullable": true
          },
          "isEmailConfirmed": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "LoginRequest": {
        "required": [
          "email",
          "password"
        ],
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "nullable": true
          },
          "password": {
            "type": "string",
            "nullable": true
          },
          "twoFactorCode": {
            "type": "string",
            "nullable": true
          },
          "twoFactorRecoveryCode": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "MinVideo": {
        "required": [
          "preview",
          "title",
          "user"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Уникальный идентификатор видео.",
            "format": "uuid"
          },
          "title": {
            "type": "string",
            "description": "Название видео.",
            "nullable": true
          },
          "viewsCount": {
            "type": "integer",
            "description": "Количество просмотров видео.",
            "format": "int32"
          },
          "vote": {
            "type": "boolean",
            "description": "Голос пользователя за видео: `true` — лайк, `false` — дизлайк,\r\nnull — пользователь не голосовал.",
            "nullable": true
          },
          "duration": {
            "type": "string",
            "description": "Продолжительность видео.",
            "format": "date-span"
          },
          "endTime": {
            "type": "string",
            "description": "Время окончания просмотра видео (если есть), например для отметки прогресса.\r\nМожет быть null.",
            "format": "date-span",
            "nullable": true
          },
          "createdDate": {
            "type": "string",
            "description": "Дата и время создания видео (в формате UTC).",
            "format": "date-time"
          },
          "preview": {
            "$ref": "#/components/schemas/VideoPreview"
          },
          "user": {
            "$ref": "#/components/schemas/ApplicationUser"
          }
        },
        "additionalProperties": false,
        "description": "Минимальная информация о видео для отображения в списках и превью."
      },
      "MinVideoListReply": {
        "required": [
          "elements"
        ],
        "type": "object",
        "properties": {
          "elements": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MinVideo"
            },
            "description": "Коллекция элементов текущей страницы.",
            "nullable": true
          },
          "nextAfter": {
            "type": "integer",
            "description": "Параметр, по которому можно запросить следующую страницу данных (например, ID или индекс).",
            "format": "int32",
            "nullable": true
          },
          "hasMore": {
            "type": "boolean",
            "description": "Указывает, есть ли ещё данные после текущей страницы."
          }
        },
        "additionalProperties": false,
        "description": "Универсальная модель для передачи данных с постраничной навигацией (пагинацией)."
      },
      "PatchApplicationUserRequest": {
        "type": "object",
        "properties": {
          "userName": {
            "type": "string",
            "description": "Имя пользователя",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Запрос на обновление данных пользователя"
      },
      "Playlist": {
        "required": [
          "title"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Идентификатор плейлиста.",
            "format": "uuid"
          },
          "title": {
            "type": "string",
            "description": "Название плейлиста.",
            "nullable": true
          },
          "count": {
            "type": "integer",
            "description": "Количество элементов (видео) в плейлисте.",
            "format": "int32"
          }
        },
        "additionalProperties": false,
        "description": "Модель плейлиста с описанием и списком элементов."
      },
      "PlaylistElement": {
        "required": [
          "video"
        ],
        "type": "object",
        "properties": {
          "createdDate": {
            "type": "string",
            "description": "Дата и время добавления видео в плейлист (в формате UTC).",
            "format": "date-time"
          },
          "video": {
            "$ref": "#/components/schemas/MinVideo"
          }
        },
        "additionalProperties": false,
        "description": "Модель для элемента плейлиста, содержащий информацию о видео и дате добавления."
      },
      "PlaylistElementListReply": {
        "required": [
          "elements"
        ],
        "type": "object",
        "properties": {
          "elements": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PlaylistElement"
            },
            "description": "Коллекция элементов текущей страницы.",
            "nullable": true
          },
          "nextAfter": {
            "type": "integer",
            "description": "Параметр, по которому можно запросить следующую страницу данных (например, ID или индекс).",
            "format": "int32",
            "nullable": true
          },
          "hasMore": {
            "type": "boolean",
            "description": "Указывает, есть ли ещё данные после текущей страницы."
          }
        },
        "additionalProperties": false,
        "description": "Универсальная модель для передачи данных с постраничной навигацией (пагинацией)."
      },
      "PlaylistForVideo": {
        "required": [
          "title"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Уникальный идентификатор плейлиста.",
            "format": "uuid"
          },
          "title": {
            "type": "string",
            "description": "Название плейлиста.",
            "nullable": true
          },
          "count": {
            "type": "integer",
            "description": "Количество видео в плейлисте (неотрицательное значение).",
            "format": "int32"
          },
          "hasVideo": {
            "type": "boolean",
            "description": "Признак того, что указанное видео находится в этом плейлисте."
          }
        },
        "additionalProperties": false,
        "description": "Модель плейлиста, связанного с видео."
      },
      "PostCommentRequest": {
        "required": [
          "text"
        ],
        "type": "object",
        "properties": {
          "text": {
            "type": "string",
            "description": "Текст комментария.",
            "nullable": true
          },
          "parentId": {
            "type": "string",
            "description": "Идентификатор родительского комментария, если комментарий является ответом.\r\nМожет быть null, если комментарий верхнего уровня.",
            "format": "uuid",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "DTO для создания нового комментария к видео."
      },
      "PostPlaylistRequest": {
        "required": [
          "title"
        ],
        "type": "object",
        "properties": {
          "title": {
            "maxLength": 150,
            "minLength": 1,
            "type": "string",
            "description": "Название плейлиста.\r\nОбязательное поле, максимум 150 символов."
          }
        },
        "additionalProperties": false,
        "description": "Запрос на создание нового плейлиста."
      },
      "PostViewsRequest": {
        "type": "object",
        "properties": {
          "endTime": {
            "type": "string",
            "description": "Время просмотра видео",
            "format": "date-span"
          }
        },
        "additionalProperties": false,
        "description": "Запрос на регистрацию просмотра"
      },
      "RefreshRequest": {
        "required": [
          "refreshToken"
        ],
        "type": "object",
        "properties": {
          "refreshToken": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "RegisterRequest": {
        "required": [
          "email",
          "password"
        ],
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "nullable": true
          },
          "password": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "ResendConfirmationEmailRequest": {
        "required": [
          "email"
        ],
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "ResetPasswordRequest": {
        "required": [
          "email",
          "newPassword",
          "resetCode"
        ],
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "nullable": true
          },
          "resetCode": {
            "type": "string",
            "nullable": true
          },
          "newPassword": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "TwoFactorRequest": {
        "type": "object",
        "properties": {
          "enable": {
            "type": "boolean",
            "nullable": true
          },
          "twoFactorCode": {
            "type": "string",
            "nullable": true
          },
          "resetSharedKey": {
            "type": "boolean"
          },
          "resetRecoveryCodes": {
            "type": "boolean"
          },
          "forgetMachine": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "TwoFactorResponse": {
        "required": [
          "isMachineRemembered",
          "isTwoFactorEnabled",
          "recoveryCodesLeft",
          "sharedKey"
        ],
        "type": "object",
        "properties": {
          "sharedKey": {
            "type": "string",
            "nullable": true
          },
          "recoveryCodesLeft": {
            "type": "integer",
            "format": "int32"
          },
          "recoveryCodes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          },
          "isTwoFactorEnabled": {
            "type": "boolean"
          },
          "isMachineRemembered": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "UpdateCommentRequest": {
        "type": "object",
        "properties": {
          "text": {
            "type": "string",
            "description": "Текст комментария.",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Запрос на добавление или обновление комментария к видео."
      },
      "UpdatePlaylistRequest": {
        "required": [
          "title"
        ],
        "type": "object",
        "properties": {
          "title": {
            "maxLength": 150,
            "minLength": 1,
            "type": "string",
            "description": "Название плейлиста.\r\nНеобязательное поле, максимум 150 символов."
          }
        },
        "additionalProperties": false,
        "description": "Запрос на обновление плейлиста."
      },
      "UserAvatar": {
        "required": [
          "bucket",
          "fileName",
          "userId"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Уникальный идентификатор аватара.",
            "format": "uuid"
          },
          "userId": {
            "type": "string",
            "description": "Идентификатор пользователя, которому принадлежит аватар.",
            "nullable": true
          },
          "fileName": {
            "type": "string",
            "description": "Имя файла аватара.",
            "nullable": true
          },
          "bucket": {
            "type": "string",
            "description": "Имя хранилища (bucket), где хранится аватар.",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Модель, содержащий информацию об аватаре пользователя."
      },
      "Video": {
        "required": [
          "description",
          "files",
          "preview",
          "title",
          "user"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Уникальный идентификатор видео.",
            "format": "uuid"
          },
          "title": {
            "type": "string",
            "description": "Заголовок видео.",
            "nullable": true
          },
          "description": {
            "type": "string",
            "description": "Описание видео.",
            "nullable": true
          },
          "likesCount": {
            "type": "integer",
            "description": "Количество лайков.",
            "format": "int32"
          },
          "dislikesCount": {
            "type": "integer",
            "description": "Количество дизлайков.",
            "format": "int32"
          },
          "commentsCount": {
            "type": "integer",
            "description": "Количество комментариев под видео.",
            "format": "int32"
          },
          "viewsCount": {
            "type": "integer",
            "description": "Общее количество просмотров видео.",
            "format": "int32"
          },
          "vote": {
            "type": "boolean",
            "description": "Голос текущего пользователя по видео: `true` — лайк, `false` — дизлайк,\r\nnull — пользователь не голосовал.",
            "nullable": true
          },
          "duration": {
            "type": "string",
            "description": "Продолжительность видео.",
            "format": "date-span"
          },
          "endTime": {
            "type": "string",
            "description": "Время окончания просмотра видео текущим пользователем (если есть).\r\nМожет быть null.",
            "format": "date-span",
            "nullable": true
          },
          "createdDate": {
            "type": "string",
            "description": "Дата и время создания видео (UTC).",
            "format": "date-time"
          },
          "preview": {
            "$ref": "#/components/schemas/VideoPreview"
          },
          "files": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/VideoPlaylist"
            },
            "description": "Список файлов видео (различные форматы, качества).",
            "nullable": true
          },
          "user": {
            "$ref": "#/components/schemas/ApplicationUser"
          }
        },
        "additionalProperties": false,
        "description": "Модель видео с полной информацией."
      },
      "VideoPlaylist": {
        "required": [
          "bucket",
          "fileName"
        ],
        "type": "object",
        "properties": {
          "resolution": {
            "type": "integer",
            "description": "Разрешение видео (например, 720, 1080).",
            "format": "int32"
          },
          "fileName": {
            "type": "string",
            "description": "Имя файла видео.",
            "nullable": true
          },
          "bucket": {
            "type": "string",
            "description": "Имя хранилища (bucket), где находится видеофайл.",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Модель плейлиста M3U8"
      },
      "VideoPreview": {
        "required": [
          "bucket",
          "fileName"
        ],
        "type": "object",
        "properties": {
          "fileName": {
            "type": "string",
            "description": "Имя файла превью изображения.",
            "nullable": true
          },
          "bucket": {
            "type": "string",
            "description": "Имя хранилища (bucket), в котором хранится файл превью.",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Модель превью видео с информацией о файле и его расположении."
      }
    }
  },
  "tags": [
    {
      "name": "Comments",
      "description": "Управление комментариями к видео."
    },
    {
      "name": "CommentVote",
      "description": "Управление голосами за комментарии (лайки и дизлайки)."
    },
    {
      "name": "Health",
      "description": "Контроллер проверки состояния сервера (health check)."
    },
    {
      "name": "History",
      "description": "Управление историей просмотров пользователя."
    },
    {
      "name": "Identity",
      "description": "Управление аутентификацией пользователя."
    },
    {
      "name": "Playlists",
      "description": "Управление плейлистами пользователя."
    },
    {
      "name": "Recommendations",
      "description": "Контроллер рекомендаций видео для пользователя."
    },
    {
      "name": "Search",
      "description": "Контроллер для поиска видео."
    },
    {
      "name": "Subscriptions",
      "description": "Работа с подписками пользователей."
    },
    {
      "name": "Users",
      "description": "Работа с пользователем"
    },
    {
      "name": "Videos",
      "description": "Работа с видео."
    },
    {
      "name": "VideoVote",
      "description": "Работа с реакциями (голосами) под видео."
    }
  ]
}